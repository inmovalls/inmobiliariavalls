(()=>{"use strict";const e="http://localhost:1337/",n={inmuebles:e+"inmuebles/",operaciones:e+"operacions/",tipos:e+"tipo-inmuebles/",subtipos:e+"subtipo-inmuebles/",caracteristicas:e+"caracteristicas/",zonas:e+"zonas/"},t=async e=>{if("count"===e){const t=`${n.inmuebles}${e}`;try{const e=await fetch(t);return await e.json()}catch(e){console.error("Error al conseguir la API de inmuebles",e.message)}}const t=e?`${n.inmuebles}${e}`:n.inmuebles;try{const e=await fetch(t);return await e.json()}catch(e){console.error("Error al conseguir la API de inmuebles",e.message)}},i=async e=>{const n=await t(e),{caracteristicas:i}=n;let a="";for(let e=0;e<i.length;e++)a+=i[e].nombre_caracteristica+" ";return`\n        <a href="#/inmueble/${n.id}" id="container-${n.id}" class="StateItem-container">\n            <h3>${n.definicion}</h3>\n            <figure class="StateItem-image">\n                <img src="${n.imagen_url_1}" alt="Inmueble">\n            </figure>\n            <div class="StateItem-properties">\n                <p>\n                    <span>${n.tipo_inmueble.nombre_tipo_inmueble}</span>\n                    para <span>${n.operacion.tipo_operacion}</span>\n                </p>\n                <p>\n                    <span>${n.precio}</span>\n                    &nbsp;\n                    <span>${n.superficie}</span>\n                </p>\n                <span>${n.habitaciones} habitaciones</span>\n                <span>${n.zona.nombre_zona}</span>\n            </div>\n        </a>\n    `},a=async()=>`\n        <h1>Bienvenidos a Valls Inmobiliaria</h1>\n        <div class="Home-filter-container">\n            <button type="button" class="show-filter-button" id="show-filter-button">Filtros</button>\n            <div class="Home-filter" id="Home-filter-menu">\n                ${await(async()=>{const e=(e,n)=>{let t="";for(let i=0;i<e.length;i++)t+=`\n                <label class="Filter-${n} Filter-button-container"><input type="checkbox" class="Filter-button Filter-button-${n}" id="${n}-${i}"><span class="checkmark"><div class="check-checked"></div></span>${e[i]}</label>\n            `;return t},n=await t();let i=[],a=[],s=[],o=[],r=[],l=[],c=[],m=[],u=[],d=[];for(let e=0;e<n.length;e++)i[e]=n[e].operacion.tipo_operacion,a[e]=n[e].precio,s[e]=n[e].superficie,o[e]=n[e].habitaciones,r[e]=n[e].banos,l[e]=n[e].tipo_inmueble.nombre_tipo_inmueble,c[e]=n[e].subtipo_inmueble.nombre_subtipo_inmueble,m[e]=n[e].zona.nombre_zona,u[e]=n[e].caracteristicas;for(let e=0;e<u.length;e++)for(let n=0;n<u[e].length;n++)d.push(u[e][n].nombre_caracteristica);i=new Set(i.sort()),a=new Set(a.sort()),s=new Set(s.sort()),o=new Set(o.sort()),r=new Set(r.sort()),l=new Set(l.sort()),c=new Set(c.sort()),m=new Set(m.sort()),d=new Set(d.sort()),i=Array.from(i),a=Array.from(a),s=Array.from(s),o=Array.from(o),r=Array.from(r),l=Array.from(l),c=Array.from(c),m=Array.from(m),d=Array.from(d);let p=[];for(let e=0;e<a.length;e++)p[e]=parseInt(a[e].replace(/\D/g,""));p=p.sort((function(e,n){return e-n}));let b=[];for(let e=0;e<s.length;e++)b[e]=parseInt(s[e].replace(/\D/g,"").replace(/2$/g,""));b=b.sort((function(e,n){return e-n}));let g=[];for(let e=0;e<o.length;e++)g[e]=parseInt(o[e].replace(/\D/g,""));g=g.sort((function(e,n){return e-n}));let f=[];for(let e=0;e<r.length;e++)f[e]=parseInt(r[e].replace(/\D/g,""));return f=f.sort((function(e,n){return e-n})),`\n        <div class="Filter-container">\n            <span class="Filter-container-title">Operación: </span>\n            ${e(i,"operation")}<br>\n        </div>\n        <div class="Filter-container">\n            <span class="Filter-container-title">Precio: </span>\n            ${e(a,"price")}<br>\n        </div>\n        <div class="Filter-container">\n            <span class="Filter-container-title">Superficie: </span>\n            ${e(s,"surface")}<br>\n        </div>\n        <div class="Filter-container">\n            <span class="Filter-container-title">Habitaciones: </span>\n            ${e(o,"room")}<br>\n        </div>\n        <div class="Filter-container">\n            <span class="Filter-container-title">Baños: </span>\n            ${e(r,"toilet")}<br>\n        </div>\n        <div class="Filter-container">\n            <span class="Filter-container-title">Tipo: </span>\n            ${e(l,"type")}<br>\n        </div>\n        <div class="Filter-container">\n            <span class="Filter-container-title">Subtipo: </span>\n            ${e(c,"subtype")}<br>\n        </div>\n        <div class="Filter-container">\n            <span class="Filter-container-title">Zona: </span>\n            ${e(m,"zone")}<br>\n        </div>\n    `})()}\n            </div>\n        </div>\n        <div class="Home-items">\n            ${await(async()=>{const e=await t("count"),n=await t();let a="";for(let t=0;t<e;t++)n[t].disponible&&(a+=`\n            ${await i(t+1)}\n            `);return a})()}\n        </div>\n    `,s=()=>'\n    <div class="Error404">\n        <h2>Hay un Error</h2>\n        <img src="https://i.imgur.com/z1dDrau.png">\n        <h3>No encontramos la página que busca</h3>\n    </div>\n    ',o=async()=>{const e=location.hash.slice(1).toLocaleLowerCase().split("/")[2],n=await t(e),i=[n.imagen_url_1,n.imagen_url_2,n.imagen_url_3,n.imagen_url_4,n.imagen_url_5,n.imagen_url_6,n.imagen_url_7,n.imagen_url_8,n.imagen_url_9,n.imagen_url_10,n.imagen_url_11,n.imagen_url_12,n.imagen_url_13,n.imagen_url_14,n.imagen_url_15,n.imagen_url_16,n.imagen_url_17,n.imagen_url_18,n.imagen_url_19,n.imagen_url_20];let a=[];for(let e=0;e<i.length;e++)i[e]&&a.push(i[e]);const{caracteristicas:s,definicion:o,fecha_publicacion:r,habitaciones:l,banos:c,localizacion:m,operacion:{tipo_operacion:u},precio:d,superficie:p,tipo_inmueble:{nombre_tipo_inmueble:b},subtipo_inmueble:{nombre_subtipo_inmueble:g},zona:{nombre_zona:f}}=n;let v="";for(let e=0;e<s.length;e++){let{nombre_caracteristica:n}=s[e];e===s.length-1?v+=n:v+=n+"<br>"}const h=r.split("T")[0].split("-"),y=h[2],_=h[1],E=h[0];return`\n        <div class="State-page">\n            <h2>Título: ${o}</h2>\n            ${(e=>{let n="";for(let t=1;t<e.length;t++)n+=`\n            <img src="${e[t]}" alt="Foto Inmueble" class="State-carousel-image" id="image-${t+1}" style="display: none;">\n        `;return`\n        <div class="State-carousel" id="State-carousel">\n            <button type="button" id="button-previous" ><div class="inside-button-previous"></div></button>\n            <div class="carousel-pictures">\n                <img src="${e[0]}" alt="Foto Inmueble" class="State-carousel-image" id="image-1" style="display: inline;">\n                ${n}\n            </div>\n            <button type="button" id="button-next" ><div class="inside-button-next"></div></button>\n        </div>\n    `})(a)}\n            <div class="State-page-info" id="State-page-info-1">\n                <p>\n                    ${b}\n                    ${g}\n                    para ${u}\n                </p>\n                <p>\n                    ${f}<br>\n                </p>\n                <p>\n                    ${d}<br>\n                    ${p}\n                </p>\n                <p>\n                    ${l} Habitaciones y ${c} Baños\n                </p>\n                <p>Publicado ${y} ${_} ${E}</p>\n            </div>\n            <div class="State-page-info" id="State-page-info-3">\n                <p><b>Descripción:</b></p>\n                <p>${o}</p>\n            </div>\n            <div id="info2-contact">\n                <div class="State-page-info" id="State-page-info-2">\n                    <p><b>Características:</b></p>\n                    <p>${v}</p>\n                </div>\n                \n        <div class="Contact-container">\n            <h3>Contáctanos</h3>\n            <div class="Contact-container-content">\n                <span>+34 610 19 18 17<span><br>\n                <a href='mailto:inmobiliaria@example.com'>inmobiliaria@example.com</a>\n                <p>Siempre a tu disposición</p>\n            </div>\n        </div>\n    \n            </div>\n            \n        <div id="map">\n            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d4340.628144771131!2d2.9043884152506125!3d39.7107190041423!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1297c5cf09a284a9%3A0xce3b7b9f1c0d4028!2sCarrer%20Capellers%2C%2062%2C%2007300%20Inca%2C%20Illes%20Balears!5e0!3m2!1ses!2ses!4v1612346863959!5m2!1ses!2ses" width="600" height="450" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>\n        </div>\n    \n        </div>\n    `},r=()=>'\n        <div class=Info-page>\n            <div alt="Foto de portada" class="Info-portrait" style="background-image: url(https://i.imgur.com/nOtEHBZ.jpg)"></div>\n            <h2 class="Info-title">Título</h2>\n            <p class="Info-content">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Iure accusamus at fuga quae cum distinctio aut quia officia nesciunt consectetur animi quod quis, ut rem deserunt modi, tempora dignissimos! Dolorum.\n            Sapiente voluptate, veniam in debitis neque tempora dolor natus suscipit impedit consequatur cumque reiciendis omnis, atque, eius dolorum! Laboriosam, laborum! Ea non vitae, dolorem voluptatem maxime tempora asperiores fugit eius.\n            Distinctio temporibus debitis alias optio magni velit nesciunt neque consequuntur dolor inventore atque, quam unde excepturi ipsa tempore provident repellat deleniti fugit eligendi quis hic impedit, odio veniam? Recusandae, officia?</p>\n            <div class="Info-image-contact">\n                <img src="https://i.imgur.com/duxpfhY.jpg" alt="Una imagen característica" class="Info-image">\n                \n        <div class="Contact-container">\n            <h3>Contáctanos</h3>\n            <div class="Contact-container-content">\n                <span>+34 610 19 18 17<span><br>\n                <a href=\'mailto:inmobiliaria@example.com\'>inmobiliaria@example.com</a>\n                <p>Siempre a tu disposición</p>\n            </div>\n        </div>\n    \n            </div>\n        </div>\n    ',l={"/":a,"/home":a,"/inmueble":o,"/inmueble/:id":o,"/about":r,"/administracion_fincas":r,"/gestion_alquileres":r,"/departamento_juridico":r,"/correduria_seguros":r,"/contact":r},c=async()=>{const e=document.getElementById("header"),n=document.getElementById("main"),t=document.getElementById("footer");e.innerHTML=await'\n        <div class="Header-logo">\n            <a href="#/home">\n                <img src="https://i.imgur.com/Uzpv0hr.png" alt="Valls Logo">\n            </a>\n        </div>\n        <div class="Header-nav-container">\n            <nav class="Header-nav">\n                <div type="button" id="Header-nav-button"></div>\n                <a class="Header-nav-item" href="#/home">\n                    <span>Inicio</span>\n                </a>\n                <a class="Header-nav-item" href="#/about">\n                    <span>Sobre Nosotros</span>\n                </a>\n                <a class="Header-nav-item" href="#/administracion_fincas">\n                    <span>Administración de Fincas</span>\n                </a>\n                <a class="Header-nav-item" href="#/departamento_juridico">\n                    <span>Dept. Jurídico</span>\n                </a>\n                <a class="Header-nav-item" href="#/correduria_seguros">\n                    <span>Seguros</span>\n                </a>\n                <a class="Header-nav-item" href="#/contact">\n                    <span>Contáctanos</span>\n                </a>\n            </nav>\n        <div>\n    ';let i=location.hash.slice(1).toLocaleLowerCase().split("/")||"/",a=await(e=>{let n=e[1];switch(n){case"":case void 0:return"/";default:return`/${n}`}})(i),o=l[a]?l[a]:s;n.innerHTML=await o(),t.innerHTML=await'\n    <figure class="Footer-logo">\n        <img src="https://i.imgur.com/lBilRnm.png" alt="Valls Logo">\n    </figure>\n    <div class="Footer-info">\n        <div class="Footer-info-container">\n            <h4>ADMINISTRACIONES VALLS</h4>\n            <p class="Footer-info">\n                C/BISBE PERELLÓ 3 BAJOS <br>\n                PALMA DE MALLORCA <br>\n                TEL 971 72 16 88 / 971 72 16 89 <br>\n                EMAIL inmobiliaria@administracionesvalls.com <br>\n            </p>\n        </div>\n        <div class="Footer-info-container">\n            <h4>HORARIO</h4>\n            <p class="Footer-info">\n                Lunes, Miercoles y Viernes <br>\n                De 8 a 15 Hs <br>\n                Martes y Jueves <br>\n                De 8 a 20 Hs <br>\n            </p>\n        </div>\n    </div>\n    '},m=()=>{if(document.getElementById("State-carousel")){const e=document.getElementsByClassName("State-carousel-image"),n=document.getElementById("button-previous"),t=document.getElementById("button-next"),i=n=>{e[n].style.display="inline"},a=n=>{e[n].style.display="none"},s=()=>{for(let n=0;n<e.length;n++)if("inline"===e[n].style.display)return n},o=()=>{let e=s();0!==e&&(a(e),i(e-1))},r=()=>{let n=s();n!==e.length-1&&(a(n),i(n+1))};n.addEventListener("click",o),t.addEventListener("click",r)}},u=async()=>{const e=await t(),n=document.getElementsByClassName("Filter-button"),i=document.getElementsByClassName("Filter-operation"),a=document.getElementsByClassName("Filter-button-operation"),s=document.getElementsByClassName("Filter-price"),o=document.getElementsByClassName("Filter-button-price"),r=document.getElementsByClassName("Filter-surface"),l=document.getElementsByClassName("Filter-button-surface"),c=document.getElementsByClassName("Filter-room"),m=document.getElementsByClassName("Filter-button-room"),u=document.getElementsByClassName("Filter-toilet"),d=document.getElementsByClassName("Filter-button-toilet"),p=document.getElementsByClassName("Filter-type"),b=document.getElementsByClassName("Filter-button-type"),g=document.getElementsByClassName("Filter-subtype"),f=document.getElementsByClassName("Filter-button-subtype"),v=document.getElementsByClassName("Filter-zone"),h=document.getElementsByClassName("Filter-button-zone"),y=(document.getElementsByClassName("Filter-characteristic"),document.getElementsByClassName("Filter-button-characteristic"),(e,n,t,i)=>{let a=!1;for(let e=0;e<i.length;e++)a+=i[e].checked;if(a){let e=!1;for(let a=0;a<i.length;a++)e+=i[a].checked&&t[a].textContent===n;if(e)return 1;if(!e)return 0}else if(!a)return 1}),_=async n=>{var t;8===y(e[n].id,e[n].operacion.tipo_operacion,i,a)+y(e[n].id,e[n].precio,s,o)+y(e[n].id,e[n].superficie,r,l)+y(e[n].id,e[n].habitaciones,c,m)+y(e[n].id,e[n].banos,u,d)+y(e[n].id,e[n].tipo_inmueble.nombre_tipo_inmueble,p,b)+y(e[n].id,e[n].subtipo_inmueble.nombre_subtipo_inmueble,g,f)+y(e[n].id,e[n].zona.nombre_zona,v,h)?(t=e[n].id,document.getElementById(`container-${t}`).style.display="flex"):(e=>{document.getElementById(`container-${e}`).style.display="none"})(e[n].id)},E=()=>{for(let n=0;n<e.length;n++)e[n].disponible&&_(n)};for(let e=0;e<n.length;e++)n[e].addEventListener("click",E)},d=()=>{const e=document.getElementById("show-filter-button"),n=document.getElementById("Home-filter-menu");e.addEventListener("click",(()=>{"flex"===n.style.display?n.style.display="none":n.style.display="flex"}))},p=document.getElementById("main");new MutationObserver((function(e,n){for(const n of e)"childList"===n.type?(m(),d(),u()):n.type})).observe(p,{attributes:!0,childList:!0,subtree:!0});const b=()=>{const e=document.getElementById("Header-nav-button");let n=document.getElementsByClassName("Header-nav-item");e.addEventListener("click",(()=>{for(let e=0;e<n.length;e++)"inline"===n[e].style.display?n[e].style.display="none":n[e].style.display="inline"}))},g=document.getElementById("header");new MutationObserver((function(e,n){for(const n of e)"childList"===n.type?b():n.type})).observe(g,{attributes:!0,childList:!0,subtree:!0}),window.addEventListener("load",c),window.addEventListener("hashchange",c)})();